<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ä¸ªæ€§åŒ–èŠ³ç–—æ–¹æ¡ˆä½¿ç”¨æŒ‡å— - å®šåˆ¶åŒ–ç²¾æ²¹é…æ–¹ä¸å®‰å…¨ä½¿ç”¨æ‰‹å†Œ">
    <meta name="keywords" content="èŠ³ç–—,ç²¾æ²¹,é…æ–¹,å¥åº·,ä¸ªæ€§åŒ–">
    <meta name="author" content="ä¸ªæ€§åŒ–èŠ³ç–—æ–¹æ¡ˆ">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="ä¸ªæ€§åŒ–èŠ³ç–—æ–¹æ¡ˆä½¿ç”¨æŒ‡å—">
    <meta property="og:description" content="å®šåˆ¶åŒ–ç²¾æ²¹é…æ–¹ä¸å®‰å…¨ä½¿ç”¨æ‰‹å†Œ">
    
    <title>ä¸ªæ€§åŒ–èŠ³ç–—æ–¹æ¡ˆ - å¼€å¯æ‚¨çš„è‡ªç„¶å¥åº·ä¹‹æ—…</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Hero Section - ä¸»è§†è§‰åŒºåŸŸ */
        .hero {
            text-align: center;
            padding: 100px 20px 80px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 20px;
            margin-bottom: 60px;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.05) 0%, transparent 70%);
            animation: pulse 8s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero h1 {
            font-size: 56px;
            font-weight: 300;
            margin-bottom: 25px;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 2px;
            line-height: 1.2;
        }
        
        .hero .subtitle {
            font-size: 22px;
            color: var(--secondary-color);
            margin-bottom: 15px;
            font-weight: 300;
        }
        
        .hero .tagline {
            font-size: 16px;
            color: var(--secondary-color);
            margin-bottom: 50px;
            opacity: 0.8;
        }
        
        /* CTA Button - ä¸»è¦è¡ŒåŠ¨æŒ‰é’® */
        .cta-section {
            margin: 50px 0;
            text-align: center;
        }
        
        .cta-button {
            display: inline-block;
            padding: 20px 50px;
            font-size: 20px;
            font-weight: 600;
            color: white;
            background: var(--accent-gradient);
            border: none;
            border-radius: 50px;
            text-decoration: none;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .cta-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .cta-button:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.5);
        }
        
        .cta-button:active {
            transform: translateY(-1px);
        }
        
        .cta-button span {
            position: relative;
            z-index: 1;
        }
        
        .cta-hint {
            margin-top: 20px;
            font-size: 14px;
            color: var(--secondary-color);
            opacity: 0.7;
        }
        
        /* åŠŸèƒ½å¡ç‰‡ç½‘æ ¼ */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-xl);
            margin: var(--spacing-3xl) 0;
        }
        
        .feature-card {
            background: var(--card-bg);
            padding: var(--spacing-xl);
            border-radius: 12px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            text-decoration: none;
            color: inherit;
            display: block;
            position: relative;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }
        
        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--accent-gradient);
            transform: scaleY(0);
            transform-origin: top;
            transition: var(--transition);
        }
        
        .feature-card:hover::before {
            transform: scaleY(1);
        }
        
        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
            border-color: rgba(102, 126, 234, 0.3);
        }
        
        .feature-card h3 {
            margin: 0 0 var(--spacing-sm);
            color: var(--primary-color);
            font-size: var(--text-lg);
            font-weight: 600;
            line-height: 1.4;
        }
        
        .feature-card p {
            color: var(--secondary-color);
            margin: 0;
            font-size: var(--text-sm);
            line-height: 1.7;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .hero {
                padding: 60px 20px 50px;
            }
            
            .hero h1 {
                font-size: 36px;
            }
            
            .hero .subtitle {
                font-size: 18px;
            }
            
            .cta-button {
                padding: 18px 40px;
                font-size: 18px;
            }
            
            .card-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-md);
            }
            
            .feature-card {
                padding: var(--spacing-lg);
            }
        }
    </style>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">è·³è½¬åˆ°ä¸»è¦å†…å®¹</a>
    
    <div class="fixed-nav" id="fixedNav" role="navigation" aria-label="ä¸»å¯¼èˆª">
        <div class="nav-content">
            <div class="logo"><a href="index.html" aria-label="è¿”å›é¦–é¡µ">ä¸ªæ€§åŒ–èŠ³ç–—æ–¹æ¡ˆ</a></div>
            <button class="menu-toggle" id="menuToggle" aria-label="åˆ‡æ¢èœå•" aria-expanded="false" aria-controls="navMenu">â˜°</button>
            <nav id="navMenu" role="navigation">
                <a href="index.html" aria-current="page">é¦–é¡µ</a>
                <a href="essential-oils.html">å¸¸ç”¨ç²¾æ²¹ä»‹ç»</a>
                <a href="formula-library.html">ç»å…¸é…æ–¹åº“</a>
                <a href="formula-builder.html">é…æ–¹å®éªŒ</a>
                <a href="making.html">åˆ¶ä½œæŒ‡å—</a>
                <a href="health-profile.html">æ‚¨çš„ä¿¡æ¯æ¡£æ¡ˆ</a>
                <a href="formulas.html">æ‚¨çš„å®šåˆ¶é…æ–¹</a>
                <a href="recipe-database.html">æ‚¨çš„ç§äººé…æ–¹åº“</a>
                <a href="my-formulas.html" id="navMyFormulas" style="display: none;">æˆ‘çš„é…æ–¹åº“</a>
                <a href="login.html" id="navLoginLink">ç™»å½•</a>
                <span id="navUserInfo" style="display: none; padding: var(--spacing-sm) var(--spacing-md); color: var(--accent-color); font-weight: 600;"></span>
            </nav>
        </div>
    </div>

    <button class="back-to-top" id="backToTop" aria-label="è¿”å›é¡¶éƒ¨">â†‘</button>

    <main id="main-content" class="container">
        <!-- ä¸ªæ€§åŒ–æ¬¢è¿ä¿¡æ¯ï¼ˆä»…ç™»å½•ç”¨æˆ·æ˜¾ç¤ºï¼‰ -->
        <div id="personalizedWelcome" style="display: none; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%); padding: 30px; border-radius: 16px; margin-bottom: 40px; border: 2px solid rgba(102, 126, 234, 0.2);">
            <!-- å†…å®¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <!-- Hero Section - ä¸»è§†è§‰åŒºåŸŸ -->
        <div class="hero">
            <div class="hero-content">
                <h1>ä¸ªæ€§åŒ–èŠ³ç–—æ–¹æ¡ˆ</h1>
                <p class="subtitle">è‡ªç„¶çš„åŠ›é‡ï¼Œä¸ªæ€§åŒ–çš„å…³æ€€</p>
                <p class="tagline">åŸºäºæ‚¨çš„å¥åº·çŠ¶å†µï¼Œä¸ºæ‚¨é‡èº«å®šåˆ¶ä¸“å±ç²¾æ²¹é…æ–¹</p>
            </div>
        </div>

        <!-- CTA Section - ä¸»è¦è¡ŒåŠ¨æŒ‰é’® -->
        <div class="cta-section">
            <a href="health-profile.html" class="cta-button">
                <span>å¼€å§‹å¥åº·é—®å·ï¼Œè·å–ä¸“å±é…æ–¹</span>
            </a>
            <p class="cta-hint">åªéœ€å‡ åˆ†é’Ÿï¼Œäº†è§£æ‚¨çš„å¥åº·çŠ¶å†µï¼Œè·å¾—ä¸ªæ€§åŒ–å»ºè®®</p>
        </div>

        <!-- åŠŸèƒ½å¯¼èˆªå¡ç‰‡ -->
        <div class="card-grid">
            <a href="essential-oils.html" class="feature-card">
                <h3>ç²¾æ²¹åº“ä»‹ç»</h3>
                <p>äº†è§£17ç§ç²¾æ²¹çš„ç‰¹æ€§ã€åŠŸæ•ˆä¸ä½¿ç”¨æ–¹æ³•ï¼Œä¸ºé…æ–¹é€‰æ‹©æä¾›ä¸“ä¸šå‚è€ƒ</p>
            </a>
            <a href="safety.html" class="feature-card">
                <h3>å®‰å…¨ä½¿ç”¨é¡»çŸ¥</h3>
                <p>æŒæ¡ç²¾æ²¹ä½¿ç”¨çš„å®‰å…¨è§„èŒƒä¸æ³¨æ„äº‹é¡¹ï¼Œç¡®ä¿å®‰å…¨æœ‰æ•ˆçš„ä½¿ç”¨ä½“éªŒ</p>
            </a>
            <a href="formula-builder.html" class="feature-card">
                <h3>é…æ–¹å®éªŒå™¨</h3>
                <p>è‡ªç”±ç»„åˆä¸åŒç²¾æ²¹ï¼Œå®æ—¶è®¡ç®—æµ“åº¦ä¸å®‰å…¨æ€§ï¼Œæ¢ç´¢ä¸ªæ€§åŒ–é…æ–¹</p>
            </a>
            <a href="formulas.html" class="feature-card">
                <h3>æ‚¨çš„å®šåˆ¶é…æ–¹</h3>
                <p>åŸºäºå¥åº·é—®å·ç”Ÿæˆä¸“å±é…æ–¹ï¼Œæä¾›è¯¦ç»†çš„ä½¿ç”¨æŒ‡å¯¼ä¸å»ºè®®</p>
            </a>
            <a href="formula-library.html" class="feature-card">
                <h3>ç»å…¸é…æ–¹åº“</h3>
                <p>æµè§ˆç²¾é€‰é…æ–¹æ–¹æ¡ˆï¼ŒæŒ‰éœ€æ±‚å¿«é€ŸæŸ¥æ‰¾é€‚åˆçš„é…æ–¹ç»„åˆ</p>
            </a>
            <a href="recipe-database.html" class="feature-card">
                <h3>æ‚¨çš„ç§äººé…æ–¹åº“</h3>
                <p>ç®¡ç†ä¸ªäººé…æ–¹æ”¶è—ï¼Œæ”¯æŒå¯¼å…¥å¯¼å‡ºï¼Œå»ºç«‹ä¸“å±é…æ–¹æ¡£æ¡ˆ</p>
            </a>
            <a href="making.html" class="feature-card">
                <h3>åˆ¶ä½œæŒ‡å—</h3>
                <p>å­¦ä¹ é…æ–¹åˆ¶ä½œæµç¨‹ï¼ŒæŒæ¡å·¥å…·ä½¿ç”¨ä¸ä¿å­˜æ–¹æ³•</p>
            </a>
        </div>
    </main>

    <script src="common.js"></script>
    <script src="auth.js"></script>
    <script src="auth-nav.js"></script>
    <script src="formula-suggestions.js"></script>
    <script>
        // æ˜¾ç¤ºä¸ªæ€§åŒ–æ¬¢è¿ä¿¡æ¯
        function renderPersonalizedWelcome() {
            if (typeof window.authSystem === 'undefined' || !window.authSystem.isUserLoggedIn()) {
                return;
            }
            
            const welcomeDiv = document.getElementById('personalizedWelcome');
            if (!welcomeDiv) return;
            
            const user = window.authSystem.getCurrentUser();
            const stats = window.authSystem.getUserStatistics();
            const userInfo = window.authSystem.getUserInfo();
            
            // æ£€æŸ¥æ˜¯å¦æœ‰é—®å·æ•°æ®
            let hasQuestionnaire = false;
            let recentFormulas = [];
            if (typeof getQuestionnaireData !== 'undefined') {
                const questionnaireData = getQuestionnaireData();
                hasQuestionnaire = !!questionnaireData;
            }
            
            // è·å–æœ€è¿‘æŸ¥çœ‹çš„é…æ–¹
            const history = window.authSystem.getUserHistory(3);
            if (typeof FORMULA_DATABASE !== 'undefined') {
                recentFormulas = history
                    .map(item => FORMULA_DATABASE[item.id])
                    .filter(f => f)
                    .slice(0, 3);
            }
            
            const displayName = userInfo.name || (userInfo.email ? userInfo.email.split('@')[0] : 'ç”¨æˆ·');
            
            let welcomeHTML = `
                <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 20px;">
                    <div style="flex: 1; min-width: 250px;">
                        <h2 style="font-size: 24px; font-weight: 600; color: var(--primary-color); margin-bottom: 10px;">
                            ğŸ‘‹ æ¬¢è¿å›æ¥ï¼Œ${displayName}ï¼
                        </h2>
                        <p style="color: var(--secondary-color); margin-bottom: 20px;">
                            ${hasQuestionnaire ? 'æ‚¨çš„å¥åº·æ¡£æ¡ˆå·²ä¿å­˜ï¼Œå¯ä»¥éšæ—¶æŸ¥çœ‹ä¸ªæ€§åŒ–é…æ–¹æ¨èã€‚' : 'å®Œæˆå¥åº·é—®å·ï¼Œè·å–ä¸“å±é…æ–¹æ¨èã€‚'}
                        </p>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            ${hasQuestionnaire ? `
                                <a href="formulas.html" class="btn btn-primary" style="text-decoration: none; display: inline-block; padding: 12px 24px; border-radius: 8px; font-weight: 600;">
                                    æŸ¥çœ‹æˆ‘çš„é…æ–¹
                                </a>
                            ` : `
                                <a href="health-profile.html" class="btn btn-primary" style="text-decoration: none; display: inline-block; padding: 12px 24px; border-radius: 8px; font-weight: 600;">
                                    å¡«å†™å¥åº·é—®å·
                                </a>
                            `}
                            <a href="my-formulas.html" class="btn" style="text-decoration: none; display: inline-block; padding: 12px 24px; border-radius: 8px; font-weight: 600; background: white; color: var(--accent-color); border: 2px solid var(--accent-color);">
                                æˆ‘çš„é…æ–¹åº“
                            </a>
                        </div>
                    </div>
                    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                        <div style="text-align: center; padding: 15px 20px; background: white; border-radius: 8px; min-width: 100px;">
                            <div style="font-size: 28px; font-weight: 700; color: var(--accent-color); margin-bottom: 5px;">${stats.totalFavorites}</div>
                            <div style="font-size: 12px; color: var(--secondary-color);">æ”¶è—</div>
                        </div>
                        <div style="text-align: center; padding: 15px 20px; background: white; border-radius: 8px; min-width: 100px;">
                            <div style="font-size: 28px; font-weight: 700; color: var(--accent-color); margin-bottom: 5px;">${stats.remainingAIInquiries}</div>
                            <div style="font-size: 12px; color: var(--secondary-color);">å‰©ä½™AI</div>
                        </div>
                    </div>
                </div>
            `;
            
            // å¦‚æœæœ‰æœ€è¿‘æŸ¥çœ‹çš„é…æ–¹ï¼Œæ˜¾ç¤ºå¿«é€Ÿå…¥å£
            if (recentFormulas.length > 0) {
                welcomeHTML += `
                    <div style="margin-top: 25px; padding-top: 25px; border-top: 1px solid rgba(102, 126, 234, 0.2);">
                        <h3 style="font-size: 16px; font-weight: 600; color: var(--primary-color); margin-bottom: 15px;">ğŸ•’ æœ€è¿‘æŸ¥çœ‹</h3>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            ${recentFormulas.map(formula => `
                                <a href="formula-detail.html?id=${formula.id}" 
                                   style="display: inline-block; padding: 10px 16px; background: white; border-radius: 8px; text-decoration: none; color: var(--primary-color); font-size: 14px; border: 1px solid var(--border-color); transition: all 0.3s ease;"
                                   onmouseover="this.style.borderColor='var(--accent-color)'; this.style.transform='translateY(-2px)';"
                                   onmouseout="this.style.borderColor='var(--border-color)'; this.style.transform='translateY(0)';">
                                    ${formula.name || 'æœªå‘½åé…æ–¹'}
                                </a>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
            
            welcomeDiv.innerHTML = welcomeHTML;
            welcomeDiv.style.display = 'block';
        }
        
        // é¡µé¢åŠ è½½æ—¶æ¸²æŸ“
        document.addEventListener('DOMContentLoaded', function() {
            renderPersonalizedWelcome();
        });
    </script>
</body>
</html>
