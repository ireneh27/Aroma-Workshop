# AI API æ›¿ä»£æ–¹æ¡ˆæŒ‡å—

å½“å‰æ‚¨ä½¿ç”¨çš„æ˜¯ **DeepSeek API**ï¼Œä»¥ä¸‹æ˜¯å¯ç”¨çš„æ›¿ä»£æ–¹æ¡ˆå’Œé…ç½®æ–¹æ³•ã€‚

## ğŸ“‹ æ”¯æŒçš„ API æœåŠ¡

### 1. **OpenAI** â­ æ¨è
- **æ¨¡å‹**: GPT-4, GPT-4o-mini, GPT-3.5-turbo
- **ä¼˜åŠ¿**: 
  - å“åº”é€Ÿåº¦å¿«
  - è´¨é‡ç¨³å®š
  - æ–‡æ¡£å®Œå–„
  - æˆæœ¬ç›¸å¯¹è¾ƒä½ï¼ˆGPT-4o-miniï¼‰
- **ä»·æ ¼**: 
  - GPT-4o-mini: ~$0.15/1M tokens (è¾“å…¥), ~$0.60/1M tokens (è¾“å‡º)
  - GPT-4: ~$30/1M tokens (è¾“å…¥), ~$60/1M tokens (è¾“å‡º)
- **è·å– API Key**: https://platform.openai.com/api-keys
- **é€‚ç”¨åœºæ™¯**: é€šç”¨åœºæ™¯ï¼Œéœ€è¦é«˜è´¨é‡å“åº”

### 2. **Anthropic Claude**
- **æ¨¡å‹**: Claude 3 Opus, Claude 3 Haiku, Claude 3 Sonnet
- **ä¼˜åŠ¿**: 
  - å®‰å…¨æ€§é«˜
  - å›ç­”è´¨é‡ä¼˜ç§€
  - é•¿æ–‡æœ¬å¤„ç†èƒ½åŠ›å¼º
- **ä»·æ ¼**: 
  - Claude 3 Haiku: ~$0.25/1M tokens (è¾“å…¥), ~$1.25/1M tokens (è¾“å‡º)
  - Claude 3 Opus: ~$15/1M tokens (è¾“å…¥), ~$75/1M tokens (è¾“å‡º)
- **è·å– API Key**: https://console.anthropic.com/
- **é€‚ç”¨åœºæ™¯**: éœ€è¦é«˜è´¨é‡ã€å®‰å…¨æ€§çš„åœºæ™¯

### 3. **DeepSeek** (å½“å‰ä½¿ç”¨)
- **æ¨¡å‹**: deepseek-chat, deepseek-coder
- **ä¼˜åŠ¿**: 
  - ä»·æ ¼ä¾¿å®œ
  - ä¸­æ–‡æ”¯æŒå¥½
  - å›½å†…è®¿é—®é€Ÿåº¦å¿«
- **ä»·æ ¼**: ç›¸å¯¹ä¾¿å®œ
- **è·å– API Key**: https://platform.deepseek.com/
- **é€‚ç”¨åœºæ™¯**: æˆæœ¬æ•æ„Ÿï¼Œä¸»è¦æœåŠ¡ä¸­æ–‡ç”¨æˆ·

### 4. **ç™¾å·æ™ºèƒ½ (Baichuan)** ğŸ‡¨ğŸ‡³ å›½å†…æ¨è
- **æ¨¡å‹**: Baichuan2-Turbo, Baichuan3
- **ä¼˜åŠ¿**: 
  - ä¸­æ–‡ç†è§£èƒ½åŠ›å¼º
  - å›½å†…è®¿é—®é€Ÿåº¦å¿«
  - ä»·æ ¼åˆç†
- **è·å– API Key**: https://platform.baichuan-ai.com/
- **é€‚ç”¨åœºæ™¯**: ä¸»è¦æœåŠ¡ä¸­æ–‡ç”¨æˆ·ï¼Œéœ€è¦å›½å†…è®¿é—®é€Ÿåº¦

### 5. **ç¡…åŸºæµåŠ¨ (Silicon Flow)** ğŸ‡¨ğŸ‡³ å›½å†…æ¨è
- **æ¨¡å‹**: æ”¯æŒå¤šç§æ¨¡å‹ï¼ˆåŒ…æ‹¬ DeepSeek-R1ï¼‰
- **ä¼˜åŠ¿**: 
  - æä¾› DeepSeek-R1 å®˜æ–¹æ›¿ä»£ API
  - æ–°ç”¨æˆ·æœ‰èµ é‡‘
  - å›½å†…è®¿é—®é€Ÿåº¦å¿«
- **è·å– API Key**: https://siliconflow.cn/
- **é€‚ç”¨åœºæ™¯**: éœ€è¦ DeepSeek æ›¿ä»£æ–¹æ¡ˆï¼Œå›½å†…ç”¨æˆ·

### 6. **Google Gemini**
- **æ¨¡å‹**: gemini-pro, gemini-pro-vision
- **ä¼˜åŠ¿**: 
  - Google å®˜æ–¹æ”¯æŒ
  - å¤šæ¨¡æ€æ”¯æŒ
  - å…è´¹é¢åº¦è¾ƒé«˜
- **ä»·æ ¼**: æœ‰å…è´¹é¢åº¦ï¼Œè¶…å‡ºåæŒ‰é‡ä»˜è´¹
- **è·å– API Key**: https://makersuite.google.com/app/apikey
- **é€‚ç”¨åœºæ™¯**: éœ€è¦å¤šæ¨¡æ€èƒ½åŠ›ï¼Œåˆ©ç”¨å…è´¹é¢åº¦

### 7. **è‡ªå®šä¹‰ API** (å…¼å®¹ OpenAI æ ¼å¼)
- **æ”¯æŒ**: ä»»ä½•å…¼å®¹ OpenAI API æ ¼å¼çš„æœåŠ¡
- **ä¼˜åŠ¿**: 
  - çµæ´»æ€§é«˜
  - å¯ä»¥è‡ªå»ºæœåŠ¡
  - å¯ä»¥ä½¿ç”¨ä»£ç†æœåŠ¡
- **é€‚ç”¨åœºæ™¯**: æœ‰è‡ªå»ºæœåŠ¡æˆ–ä½¿ç”¨ä»£ç†

## ğŸš€ å¿«é€Ÿåˆ‡æ¢æŒ‡å—

### æ–¹æ³• 1: åˆ‡æ¢åˆ° OpenAI

ç¼–è¾‘ `ai-service.js` æ–‡ä»¶ï¼š

```javascript
const AI_CONFIG = {
    provider: 'openai', // æ”¹ä¸º 'openai'
    
    openai: {
        apiKey: 'sk-your-openai-api-key-here', // å¡«å…¥æ‚¨çš„ OpenAI API Key
        baseURL: 'https://api.openai.com/v1',
        model: 'gpt-4o-mini', // æ¨èä½¿ç”¨ gpt-4o-mini (æˆæœ¬ä½)
        temperature: 0.7,
        maxTokens: 1000
    },
    // ... å…¶ä»–é…ç½®ä¿æŒä¸å˜
};
```

### æ–¹æ³• 2: åˆ‡æ¢åˆ° Anthropic Claude

```javascript
const AI_CONFIG = {
    provider: 'anthropic', // æ”¹ä¸º 'anthropic'
    
    anthropic: {
        apiKey: 'sk-ant-your-anthropic-api-key-here', // å¡«å…¥æ‚¨çš„ Anthropic API Key
        baseURL: 'https://api.anthropic.com/v1',
        model: 'claude-3-haiku-20240307', // æ¨èä½¿ç”¨ haiku (æˆæœ¬ä½)
        maxTokens: 1000
    },
    // ... å…¶ä»–é…ç½®ä¿æŒä¸å˜
};
```

### æ–¹æ³• 3: åˆ‡æ¢åˆ°ç™¾å·æ™ºèƒ½ (ä½¿ç”¨è‡ªå®šä¹‰é…ç½®)

```javascript
const AI_CONFIG = {
    provider: 'custom', // ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
    
    custom: {
        apiKey: 'your-baichuan-api-key-here',
        baseURL: 'https://api.baichuan-ai.com/v1', // ç™¾å· API åœ°å€
        model: 'Baichuan2-Turbo', // æˆ– 'Baichuan3'
        temperature: 0.7,
        maxTokens: 1000
    },
    // ... å…¶ä»–é…ç½®ä¿æŒä¸å˜
};
```

### æ–¹æ³• 4: åˆ‡æ¢åˆ°ç¡…åŸºæµåŠ¨ (ä½¿ç”¨è‡ªå®šä¹‰é…ç½®)

```javascript
const AI_CONFIG = {
    provider: 'custom', // ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
    
    custom: {
        apiKey: 'your-siliconflow-api-key-here',
        baseURL: 'https://api.siliconflow.cn/v1', // ç¡…åŸºæµåŠ¨ API åœ°å€
        model: 'deepseek-chat', // æˆ–å…¶ä»–æ”¯æŒçš„æ¨¡å‹
        temperature: 0.7,
        maxTokens: 1000
    },
    // ... å…¶ä»–é…ç½®ä¿æŒä¸å˜
};
```

### æ–¹æ³• 5: åˆ‡æ¢åˆ° Google Gemini

éœ€è¦å…ˆæ·»åŠ  Gemini æ”¯æŒï¼ˆè§ä¸‹æ–¹"æ·»åŠ æ–° API æ”¯æŒ"éƒ¨åˆ†ï¼‰

## ğŸ’° æˆæœ¬å¯¹æ¯”

| API æœåŠ¡ | è¾“å…¥ä»·æ ¼ (æ¯ 1M tokens) | è¾“å‡ºä»·æ ¼ (æ¯ 1M tokens) | æ¨èæ¨¡å‹ | é€‚ç”¨åœºæ™¯ |
|---------|----------------------|----------------------|---------|---------|
| **OpenAI GPT-4o-mini** | $0.15 | $0.60 | gpt-4o-mini | å¹³è¡¡æˆæœ¬å’Œè´¨é‡ â­ |
| **OpenAI GPT-4** | $30 | $60 | gpt-4 | æœ€é«˜è´¨é‡ |
| **Anthropic Claude Haiku** | $0.25 | $1.25 | claude-3-haiku | é«˜è´¨é‡ï¼Œå®‰å…¨æ€§ |
| **DeepSeek** | è¾ƒä½ | è¾ƒä½ | deepseek-chat | æˆæœ¬æ•æ„Ÿ |
| **ç™¾å·æ™ºèƒ½** | ä¸­ç­‰ | ä¸­ç­‰ | Baichuan2-Turbo | ä¸­æ–‡ä¼˜åŒ– |
| **ç¡…åŸºæµåŠ¨** | ä¸­ç­‰ | ä¸­ç­‰ | deepseek-chat | DeepSeek æ›¿ä»£ |
| **Google Gemini** | å…è´¹é¢åº¦ | å…è´¹é¢åº¦ | gemini-pro | åˆ©ç”¨å…è´¹é¢åº¦ |

**ä¼°ç®—**: æ¯æ¬¡åœºæ™¯å»ºè®®ç”Ÿæˆçº¦æ¶ˆè€— 500-1000 tokens
- GPT-4o-mini: çº¦ $0.0005-0.001 æ¯æ¬¡
- Claude Haiku: çº¦ $0.0008-0.0015 æ¯æ¬¡
- DeepSeek: çº¦ $0.0002-0.0005 æ¯æ¬¡

## ğŸ”§ æ·»åŠ æ–° API æ”¯æŒ

å¦‚æœéœ€è¦æ·»åŠ æ–°çš„ API æœåŠ¡ï¼ˆå¦‚ Google Geminiï¼‰ï¼Œéœ€è¦ä¿®æ”¹ `ai-service.js`ï¼š

### æ­¥éª¤ 1: æ·»åŠ é…ç½®

```javascript
const AI_CONFIG = {
    provider: 'gemini', // æ–°å¢
    
    // ... ç°æœ‰é…ç½®
    
    // æ·»åŠ  Gemini é…ç½®
    gemini: {
        apiKey: 'your-gemini-api-key',
        baseURL: 'https://generativelanguage.googleapis.com/v1beta',
        model: 'gemini-pro',
        temperature: 0.7,
        maxTokens: 1000
    }
};
```

### æ­¥éª¤ 2: æ·»åŠ è°ƒç”¨å‡½æ•°

```javascript
// è°ƒç”¨ Google Gemini API
async function callGemini(messages, options = {}) {
    const config = AI_CONFIG.gemini;
    if (!config.apiKey) {
        throw new Error('Gemini API Keyæœªé…ç½®');
    }
    
    // Gemini API æ ¼å¼è½¬æ¢
    const contents = messages.map(msg => ({
        role: msg.role === 'assistant' ? 'model' : 'user',
        parts: [{ text: msg.content }]
    }));
    
    const response = await fetchWithTimeout(
        `${config.baseURL}/models/${config.model}:generateContent?key=${config.apiKey}`,
        {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                contents: contents,
                generationConfig: {
                    temperature: options.temperature || config.temperature,
                    maxOutputTokens: options.maxTokens || config.maxTokens
                }
            })
        },
        options.timeout || AI_CONFIG.timeout
    );
    
    if (!response.ok) {
        const error = await response.json().catch(() => ({ error: { message: response.statusText } }));
        throw new Error(`Gemini APIé”™è¯¯: ${error.error?.message || response.statusText}`);
    }
    
    const data = await response.json();
    return data.candidates[0].content.parts[0].text;
}
```

### æ­¥éª¤ 3: åœ¨ callAI å‡½æ•°ä¸­æ·»åŠ è·¯ç”±

```javascript
switch (AI_CONFIG.provider) {
    case 'openai':
        result = await callOpenAI(messages, options);
        break;
    case 'anthropic':
        result = await callAnthropic(messages, options);
        break;
    case 'deepseek':
        result = await callDeepSeek(messages, options);
        break;
    case 'gemini': // æ–°å¢
        result = await callGemini(messages, options);
        break;
    case 'custom':
        result = await callCustomAPI(messages, options);
        break;
    default:
        return null;
}
```

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### åœºæ™¯ 1: æˆæœ¬æ•æ„Ÿï¼Œä¸»è¦æœåŠ¡ä¸­æ–‡ç”¨æˆ·
- **æ¨è**: DeepSeek æˆ– ç™¾å·æ™ºèƒ½
- **ç†ç”±**: ä»·æ ¼ä¾¿å®œï¼Œä¸­æ–‡æ”¯æŒå¥½

### åœºæ™¯ 2: éœ€è¦é«˜è´¨é‡å“åº”ï¼Œæˆæœ¬å¯æ¥å—
- **æ¨è**: OpenAI GPT-4o-mini
- **ç†ç”±**: è´¨é‡ç¨³å®šï¼Œæˆæœ¬åˆç†

### åœºæ™¯ 3: éœ€è¦æœ€é«˜è´¨é‡ï¼Œæˆæœ¬ä¸æ•æ„Ÿ
- **æ¨è**: OpenAI GPT-4 æˆ– Anthropic Claude Opus
- **ç†ç”±**: è´¨é‡æœ€é«˜

### åœºæ™¯ 4: éœ€è¦å›½å†…è®¿é—®é€Ÿåº¦
- **æ¨è**: ç™¾å·æ™ºèƒ½ æˆ– ç¡…åŸºæµåŠ¨
- **ç†ç”±**: å›½å†…æœåŠ¡å™¨ï¼Œè®¿é—®é€Ÿåº¦å¿«

### åœºæ™¯ 5: åˆ©ç”¨å…è´¹é¢åº¦
- **æ¨è**: Google Gemini
- **ç†ç”±**: æœ‰å…è´¹é¢åº¦ï¼Œé€‚åˆæµ‹è¯•å’Œå°è§„æ¨¡ä½¿ç”¨

## ğŸ”’ å®‰å…¨å»ºè®®

1. **ä¸è¦å°† API Key æäº¤åˆ°ä»£ç ä»“åº“**
   - ä½¿ç”¨ç¯å¢ƒå˜é‡
   - ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆæ·»åŠ åˆ° .gitignoreï¼‰
   - ä½¿ç”¨åç«¯ä»£ç†ï¼ˆæœ€å®‰å…¨ï¼‰

2. **è®¾ç½®ä½¿ç”¨é™é¢**
   - åœ¨ API æä¾›å•†å¤„è®¾ç½®ä½¿ç”¨é™é¢
   - ç›‘æ§ä½¿ç”¨é‡

3. **å®šæœŸè½®æ¢ API Key**
   - å®šæœŸæ›´æ¢ API Key
   - å‘ç°æ³„éœ²ç«‹å³æ›´æ¢

## ğŸ“š ç›¸å…³èµ„æº

- [OpenAI API æ–‡æ¡£](https://platform.openai.com/docs)
- [Anthropic API æ–‡æ¡£](https://docs.anthropic.com/)
- [DeepSeek API æ–‡æ¡£](https://platform.deepseek.com/docs)
- [ç™¾å·æ™ºèƒ½ API æ–‡æ¡£](https://platform.baichuan-ai.com/docs)
- [ç¡…åŸºæµåŠ¨ API æ–‡æ¡£](https://siliconflow.cn/docs)
- [Google Gemini API æ–‡æ¡£](https://ai.google.dev/docs)

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æµ‹è¯•æ–°çš„ API é…ç½®ï¼Ÿ
A: é…ç½®å®Œæˆåï¼Œè®¿é—®åœºæ™¯å»ºè®®é¡µé¢ï¼ŒæŸ¥çœ‹æ˜¯å¦èƒ½æ­£å¸¸ç”Ÿæˆ AI å»ºè®®ã€‚å¦‚æœå¤±è´¥ï¼Œæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯ã€‚

### Q: å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ª API å—ï¼Ÿ
A: å½“å‰ç‰ˆæœ¬åªæ”¯æŒä¸€ä¸ª providerã€‚å¦‚æœéœ€è¦è´Ÿè½½å‡è¡¡æˆ–æ•…éšœè½¬ç§»ï¼Œéœ€è¦ä¿®æ”¹ä»£ç å®ç°ã€‚

### Q: API è°ƒç”¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: ç³»ç»Ÿä¼šè‡ªåŠ¨å›é€€åˆ°åŸºäºè§„åˆ™çš„é™çº§æ–¹æ¡ˆï¼Œç”¨æˆ·ä»èƒ½çœ‹åˆ°æ¨èå†…å®¹ã€‚

### Q: å¦‚ä½•é™ä½ API æˆæœ¬ï¼Ÿ
A: 
1. å¯ç”¨ç¼“å­˜ï¼ˆå·²é»˜è®¤å¯ç”¨ï¼‰
2. ä½¿ç”¨è¾ƒä¾¿å®œçš„æ¨¡å‹
3. å‡å°‘ maxTokens å€¼
4. ä»…åœ¨å¿…è¦æ—¶è°ƒç”¨ AI

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ

